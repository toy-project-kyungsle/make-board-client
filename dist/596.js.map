{"version":3,"file":"596.js","mappings":"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","sources":["webpack://lee/./cert/AuthStorage.ts","webpack://lee/./css/Auth/AuthForm.css?c228","webpack://lee/./pages/Auth/AuthForm.tsx","webpack://lee/./css/Auth/Auth.css?582c","webpack://lee/./pages/Auth/index.tsx","webpack://lee/./css/Auth/Auth.css","webpack://lee/./css/Auth/AuthForm.css"],"sourcesContent":["import { AuthStorageType, LoginType } from \"@globalObj/types\";\n\nconst AUTH = 'auth';\nconst expireDays = 3;\n\nexport function clearAuth() {\n    localStorage.clear();\n}\n\nexport function saveAuth(token: LoginType) {\n    localStorage.setItem(AUTH, JSON.stringify({...token, expire:  Date.now() + expireDays * 24 * 60 * 60 * 1000}));\n}\n\nexport function getAuth(): AuthStorageType | null {\n    if (!localStorage.getItem(AUTH))\n        return null;\n    const authObj = JSON.parse(localStorage.getItem(AUTH) as string);\n    if (Date.now() > authObj['expire']) {\n        clearAuth();\n        return null;\n    }\n    return authObj;\n}\n\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!./AuthForm.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!./AuthForm.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { useEffect, useState } from 'react';\nimport '@css/Auth/AuthForm.css';\nimport axios from 'axios';\nimport { getAuth, saveAuth } from '@cert/AuthStorage';\nimport { useNavigate } from 'react-router';\n\ninterface Props {\n  signUpMode: boolean;\n  setSignUpMode: React.Dispatch<React.SetStateAction<boolean>>;\n}\n\nfunction AuthForm(props: Props) {\n  const { signUpMode, setSignUpMode } = props;\n  const navigate = useNavigate();\n  const [id, setId] = useState('');\n  const [password, setPassword] = useState('');\n  const [passCheck, setPassCheck] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const login = () => {\n    axios\n      .post(`http://${process.env.IP_ADDRESS}/auth/login.php`, {\n        login_id: id,\n        login_pw: password,\n      })\n      .then((res) => {\n        saveAuth(res.data);\n        alert('로그인 되셨습니다');\n        location.reload();\n        console.log(res);\n      })\n      .catch((error) => {\n        alert(error.response.data);\n      });\n  };\n\n  const signUp = () => {\n    axios\n      .post(`http://${process.env.IP_ADDRESS}/auth/signup.php`, {\n        login_id: id,\n        login_pw: password,\n      })\n      .then(() => {\n        alert('회원가입 되셨습니다');\n        setSignUpMode(false);\n      })\n      .catch((error) => {\n        alert(error.response.data);\n      });\n  };\n\n  const onSubmit = (e: any) => {\n    e.preventDefault();\n    setErrorMessage('');\n    if (signUpMode) {\n      if (password === passCheck) signUp();\n      else setErrorMessage('비밀번호 재입력이 다릅니다!');\n    } else login();\n  };\n\n  const onChange = (e: any) => {\n    setErrorMessage('');\n    if (e.target.id === 'id') setId(e.target.value);\n    else if (e.target.id === 'password') setPassword(e.target.value);\n    else if (e.target.id === 'passCheck') setPassCheck(e.target.value);\n  };\n\n  useEffect(() => {\n    if (getAuth()) navigate('/');\n  }, []);\n\n  return (\n    <div className=\"authForm\">\n      <form className=\"authForm-form\" onSubmit={onSubmit} method=\"post\">\n        <div className=\"authForm-forFlex\">\n          <div className=\"authForm-label\">\n            <span>아이디</span>\n          </div>\n          <input\n            className=\"authForm-input\"\n            id=\"id\"\n            name=\"login_id\"\n            placeholder=\"id 소문자\"\n            onFocus={(e) => (e.target.placeholder = '')}\n            onBlur={(e) => (e.target.placeholder = 'id 소문자')}\n            onChange={onChange}\n            maxLength={15}\n          ></input>\n        </div>\n        <div className=\"authForm-forFlex\">\n          <div className=\"authForm-label\">\n            <span>비밀번호</span>\n          </div>\n          <input\n            className=\"authForm-input password\"\n            id=\"password\"\n            name=\"login_pw\"\n            type=\"password\"\n            placeholder=\"아무거나 가능\"\n            onFocus={(e) => (e.target.placeholder = '')}\n            onBlur={(e) => (e.target.placeholder = '아무거나 가능')}\n            onChange={onChange}\n            maxLength={15}\n          ></input>\n        </div>\n        {signUpMode && (\n          <>\n            <div className=\"authForm-forFlex\">\n              <div className=\"authForm-label\">\n                <span>비번확인</span>\n              </div>\n              <input\n                className=\"authForm-input passCheck\"\n                id=\"passCheck\"\n                type=\"password\"\n                placeholder=\"비밀번호 재입력\"\n                onFocus={(e) => (e.target.placeholder = '')}\n                onBlur={(e) => (e.target.placeholder = '비밀번호 재입력')}\n                onChange={onChange}\n                maxLength={15}\n              ></input>\n            </div>\n          </>\n        )}\n        <div className=\"authForm-buttonWrapper\">\n          <div className=\"authForm-error_message\">\n            <span>{errorMessage}</span>\n          </div>\n          <button className=\"button\">{signUpMode ? '회원가입' : '로그인'}</button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default AuthForm;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!./Auth.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!./Auth.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport AuthForm from './AuthForm';\nimport '@css/Auth/Auth.css';\nimport { useEffect } from 'react';\n\nconst Auth = () => {\n  const location = useLocation();\n  const [signUpMode, setSignUpMode] = useState(location.pathname === '/signup');\n\n  const onClickMode = () => {\n    setSignUpMode((prev) => !prev);\n  };\n\n  useEffect(() => {\n    if (location.pathname === '/signup') setSignUpMode(true);\n    else setSignUpMode(false);\n  }, [location]);\n\n  return (\n    <div className={`auth-wrapper ${signUpMode ? 'signup' : 'login'} `}>\n      <p className=\"auth-hello\">QUV에 오신 것을 환영합니다.</p>\n      <AuthForm signUpMode={signUpMode} setSignUpMode={setSignUpMode} />\n      <p className=\"auth-guide\">\n        {signUpMode ? '알고 보니 회원가입을 하셨다면?' : '아직 가입을 안 하신 회원님은 여기로!'}\n      </p>\n      <p className=\"auth-mode_change\" onClick={onClickMode}>\n        {signUpMode ? '로그인' : '회원가입'}\n      </p>\n    </div>\n  );\n};\n\nexport default Auth;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".auth-wrapper {\\n    min-height: 450px;\\n}\\n\\n.auth-hello {\\n    text-align: center;\\n}\\n\\n.signup {\\n    margin-bottom: 100px;\\n}\\n\\n.auth-guide {\\n    text-align: center;\\n    margin-top: 50px;\\n}\\n\\n.auth-mode_change {\\n    text-align: center;\\n    color: #1e4df5 !important;\\n}\\n\\n.auth-mode_change:hover {\\n    cursor: pointer;\\n    transform: scale(1.1);\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./css/Auth/Auth.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,iBAAiB;AACrB;;AAEA;IACI,kBAAkB;AACtB;;AAEA;IACI,oBAAoB;AACxB;;AAEA;IACI,kBAAkB;IAClB,gBAAgB;AACpB;;AAEA;IACI,kBAAkB;IAClB,yBAAyB;AAC7B;;AAEA;IACI,eAAe;IACf,qBAAqB;AACzB\",\"sourcesContent\":[\".auth-wrapper {\\n    min-height: 450px;\\n}\\n\\n.auth-hello {\\n    text-align: center;\\n}\\n\\n.signup {\\n    margin-bottom: 100px;\\n}\\n\\n.auth-guide {\\n    text-align: center;\\n    margin-top: 50px;\\n}\\n\\n.auth-mode_change {\\n    text-align: center;\\n    color: #1e4df5 !important;\\n}\\n\\n.auth-mode_change:hover {\\n    cursor: pointer;\\n    transform: scale(1.1);\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".authForm {\\n    position: relative;\\n    margin: 0 auto;\\n    margin-top: 50px;\\n    width: 300px;\\n}\\n\\n.authForm-forFlex {\\n    display: flex;\\n}\\n\\n.authForm-label {\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: end;\\n    font-size: 13px;\\n    width: 50px;\\n}\\n\\n.authForm-input {\\n    height: 24px;\\n    border: none;\\n    border-bottom: 1px solid black;\\n    font-size: 13px;\\n    text-align: center;\\n    width: 240px;\\n    margin-left: 10px;\\n}\\n\\n.authForm-input:focus {\\n    outline: none;\\n}\\n\\n.password,\\n.passCheck,\\n.email {\\n    margin-top: 20px;\\n}\\n\\n.authForm-buttonWrapper {\\n    display: flex;\\n    justify-content: space-between;\\n    padding: 15px 0;\\n}\\n\\n.authForm-error_message {\\n    color: red;\\n    display: flex;\\n    align-items: center;\\n}\\n\\n/* .authForm-button {\\n    padding: 0;\\n    border: none;\\n    color: black;\\n    background-color: lavender;\\n    padding: 5px;\\n    border-radius: 10px;\\n\\n    &:hover {\\n        cursor: pointer;\\n        transform: scale(1.1);\\n    }\\n} */\", \"\",{\"version\":3,\"sources\":[\"webpack://./css/Auth/AuthForm.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,kBAAkB;IAClB,cAAc;IACd,gBAAgB;IAChB,YAAY;AAChB;;AAEA;IACI,aAAa;AACjB;;AAEA;IACI,aAAa;IACb,sBAAsB;IACtB,oBAAoB;IACpB,eAAe;IACf,WAAW;AACf;;AAEA;IACI,YAAY;IACZ,YAAY;IACZ,8BAA8B;IAC9B,eAAe;IACf,kBAAkB;IAClB,YAAY;IACZ,iBAAiB;AACrB;;AAEA;IACI,aAAa;AACjB;;AAEA;;;IAGI,gBAAgB;AACpB;;AAEA;IACI,aAAa;IACb,8BAA8B;IAC9B,eAAe;AACnB;;AAEA;IACI,UAAU;IACV,aAAa;IACb,mBAAmB;AACvB;;AAEA;;;;;;;;;;;;GAYG\",\"sourcesContent\":[\".authForm {\\n    position: relative;\\n    margin: 0 auto;\\n    margin-top: 50px;\\n    width: 300px;\\n}\\n\\n.authForm-forFlex {\\n    display: flex;\\n}\\n\\n.authForm-label {\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: end;\\n    font-size: 13px;\\n    width: 50px;\\n}\\n\\n.authForm-input {\\n    height: 24px;\\n    border: none;\\n    border-bottom: 1px solid black;\\n    font-size: 13px;\\n    text-align: center;\\n    width: 240px;\\n    margin-left: 10px;\\n}\\n\\n.authForm-input:focus {\\n    outline: none;\\n}\\n\\n.password,\\n.passCheck,\\n.email {\\n    margin-top: 20px;\\n}\\n\\n.authForm-buttonWrapper {\\n    display: flex;\\n    justify-content: space-between;\\n    padding: 15px 0;\\n}\\n\\n.authForm-error_message {\\n    color: red;\\n    display: flex;\\n    align-items: center;\\n}\\n\\n/* .authForm-button {\\n    padding: 0;\\n    border: none;\\n    color: black;\\n    background-color: lavender;\\n    padding: 5px;\\n    border-radius: 10px;\\n\\n    &:hover {\\n        cursor: pointer;\\n        transform: scale(1.1);\\n    }\\n} */\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["AUTH","clearAuth","localStorage","clear","saveAuth","token","setItem","JSON","stringify","expire","Date","now","expireDays","getAuth","getItem","authObj","parse","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","props","signUpMode","setSignUpMode","navigate","useNavigate","id","setId","useState","password","setPassword","passCheck","setPassCheck","errorMessage","setErrorMessage","onChange","e","target","value","useEffect","className","onSubmit","preventDefault","axios","login_id","login_pw","then","alert","catch","error","response","data","res","location","reload","console","log","method","name","placeholder","onFocus","onBlur","maxLength","type","useLocation","pathname","onClick","prev","___CSS_LOADER_EXPORT___","push","module"],"sourceRoot":""}