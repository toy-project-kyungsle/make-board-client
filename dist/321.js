"use strict";(self.webpackChunklee=self.webpackChunklee||[]).push([[321],{5084:(e,t,n)=>{n.d(t,{DH:()=>l,J1:()=>o,v0:()=>r});const a="auth";function l(){localStorage.clear()}function o(e){localStorage.setItem(a,JSON.stringify({...e,expire:Date.now()+2592e5}))}function r(){if(!localStorage.getItem(a))return null;const e=JSON.parse(localStorage.getItem(a));return Date.now()>e.expire?(l(),null):e}},6321:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var a=n(7294),l=n(9669),o=n.n(l),r=n(5084),c=n(3379),m=n.n(c),s=n(7795),i=n.n(s),A=n(569),d=n.n(A),p=n(3565),u=n.n(p),I=n(9216),b=n.n(I),g=n(4589),x=n.n(g),f=n(675),C={};C.styleTagTransform=x(),C.setAttributes=u(),C.insert=d().bind(null,"head"),C.domAPI=i(),C.insertStyleElement=b(),m()(f.Z,C),f.Z&&f.Z.locals&&f.Z.locals;var B=n(6974);const v=()=>{const{articleId:e}=(0,B.UO)(),t=(0,B.s0)(),[n,l]=(0,a.useState)(null),[c,m]=(0,a.useState)([]),[s,i]=(0,a.useState)(""),A=()=>{o().get(`http://52.78.160.237/comment/get_comments.php?boardId=${e}`).then((e=>{console.log(e.data),m(e.data)})).catch((e=>{alert(e.response.data)}))};return(0,a.useEffect)((()=>{o().get(`http://52.78.160.237/board/get_article.php?boardId=${e}`).then((e=>{l(e.data)})).catch((e=>{alert(e.response.data)})),A()}),[]),n?a.createElement(a.Fragment,null,a.createElement("div",null,a.createElement("div",{className:"article-title"},a.createElement("div",{className:"font-28"},n.title),(0,r.v0)()&&n.userId===(0,r.v0)().userId?a.createElement("div",{className:"delete_button",onClick:()=>{(0,r.v0)()&&e?window.confirm("정말로 삭제하시겠습니까?")&&o().post("http://52.78.160.237/board/delete_article.php",{boardId:parseInt(e,10),userId:(0,r.v0)().userId}).then((()=>{alert("글 삭제 성공"),t("/")})).catch((e=>{alert(e.response.data)})):alert("로그인을 해주세요")}},"삭제"):null),a.createElement("div",{className:"article-writter"},a.createElement("span",{className:"margin_right_10px font-18"},n.loginId),a.createElement("span",{className:"font-11"},"2일 전")),a.createElement("div",{className:"article-content"},a.createElement("span",null,n.content)),a.createElement("div",{className:"article-comment_box"},a.createElement("div",{className:"article-comment_count"},"100개의 댓글"),a.createElement("textarea",{className:"article-comment_textarea",onChange:e=>i(e.target.value),cols:100,rows:10,placeholder:"글을 작성해주세요"}),a.createElement("div",{className:"article-comment_btn"},a.createElement("div",{className:"button",onClick:()=>{(0,r.v0)()&&e?o().post("http://52.78.160.237/comment/post_comment.php",{boardId:parseInt(e,10),loginId:(0,r.v0)().loginId,userId:(0,r.v0)().userId,content:s}).then((()=>{alert("댓글 달기 성공"),A()})).catch((e=>{alert(e.response.data)})):alert("로그인을 해주세요")}},"입력"))),c.length?c.map((e=>a.createElement("div",{key:e.commentId,className:"article-comments"},a.createElement("div",{className:"article-comments-profile"},a.createElement("div",{className:"article-comments-profile-name"},a.createElement("div",{className:"font-20"},e.loginId),(0,r.v0)()&&e.userId===(0,r.v0)().userId?a.createElement("div",{className:"delete_button",onClick:()=>{return t=e.commentId,void((0,r.v0)()?window.confirm("정말로 삭제하시겠습니까?")&&o().post("http://52.78.160.237/comment/delete_comment.php",{commentId:t,userId:(0,r.v0)().userId}).then((()=>{alert("댓글 삭제 성공"),A()})).catch((e=>{alert(e.response.data)})):alert("로그인을 해주세요"));var t}},"삭제"):null),a.createElement("div",null,"1일전")),a.createElement("div",{className:"article-comments-comment"},a.createElement("span",null,e.content))))):null)):null}},675:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(7537),l=n.n(a),o=n(3645),r=n.n(o)()(l());r.push([e.id,".article-title {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 8px;\n}\n\n.article-writter {\n    padding-bottom: 20px;\n    margin-bottom: 40px;\n    border-bottom: 1px solid rgb(207, 209, 209);\n}\n\n.article-content {\n    margin-bottom: 40px;\n}\n\n.article-comment_count {\n    font-size: 20px;\n    padding-top: 20px;\n    margin-bottom: 30px;\n}\n\n.article-comment_textarea {\n    width: 100%;\n}\n\n.article-comment_btn {\n    display: flex;\n    justify-content: flex-end;\n    margin: 10px 0 30px 0;\n}\n\n.article-comment_textarea:focus {\n    outline: none;\n}\n\n.article-comments {\n    padding: 15px 0;\n    border-bottom: 1px solid rgb(194, 194, 194);\n}\n\n.article-comments-profile {\n    margin-bottom: 15px;\n}\n\n.article-comments-profile-name {\n    display: flex;\n    justify-content: space-between;\n    /* font-size: 20px; */\n    margin-bottom: 5px;\n}","",{version:3,sources:["webpack://./css/Article/Article.css"],names:[],mappings:"AAAA;IACI,aAAa;IACb,8BAA8B;IAC9B,kBAAkB;AACtB;;AAEA;IACI,oBAAoB;IACpB,mBAAmB;IACnB,2CAA2C;AAC/C;;AAEA;IACI,mBAAmB;AACvB;;AAEA;IACI,eAAe;IACf,iBAAiB;IACjB,mBAAmB;AACvB;;AAEA;IACI,WAAW;AACf;;AAEA;IACI,aAAa;IACb,yBAAyB;IACzB,qBAAqB;AACzB;;AAEA;IACI,aAAa;AACjB;;AAEA;IACI,eAAe;IACf,2CAA2C;AAC/C;;AAEA;IACI,mBAAmB;AACvB;;AAEA;IACI,aAAa;IACb,8BAA8B;IAC9B,qBAAqB;IACrB,kBAAkB;AACtB",sourcesContent:[".article-title {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 8px;\n}\n\n.article-writter {\n    padding-bottom: 20px;\n    margin-bottom: 40px;\n    border-bottom: 1px solid rgb(207, 209, 209);\n}\n\n.article-content {\n    margin-bottom: 40px;\n}\n\n.article-comment_count {\n    font-size: 20px;\n    padding-top: 20px;\n    margin-bottom: 30px;\n}\n\n.article-comment_textarea {\n    width: 100%;\n}\n\n.article-comment_btn {\n    display: flex;\n    justify-content: flex-end;\n    margin: 10px 0 30px 0;\n}\n\n.article-comment_textarea:focus {\n    outline: none;\n}\n\n.article-comments {\n    padding: 15px 0;\n    border-bottom: 1px solid rgb(194, 194, 194);\n}\n\n.article-comments-profile {\n    margin-bottom: 15px;\n}\n\n.article-comments-profile-name {\n    display: flex;\n    justify-content: space-between;\n    /* font-size: 20px; */\n    margin-bottom: 5px;\n}"],sourceRoot:""}]);const c=r}}]);