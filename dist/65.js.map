{"version":3,"file":"65.js","mappings":"4HAEA,MAAMA,EAAO,OAGN,SAASC,IACZC,aAAaC,OAChB,CAEM,SAASC,EAASC,GACrBH,aAAaI,QAAQN,EAAMO,KAAKC,UAAU,IAAIH,EAAOI,OAASC,KAAKC,MAAQC,SAC9E,CAEM,SAASC,IACZ,IAAKX,aAAaY,QAAQd,GACtB,OAAO,KACX,MAAMe,EAAUR,KAAKS,MAAMd,aAAaY,QAAQd,IAChD,OAAIU,KAAKC,MAAQI,EAAO,QACpBd,IACO,MAEJc,CACV,C,wLCXGE,EAAU,CAAC,EAEfA,EAAQC,kBAAoB,IAC5BD,EAAQE,cAAgB,IAElBF,EAAQG,OAAS,SAAc,KAAM,QAE3CH,EAAQI,OAAS,IACjBJ,EAAQK,mBAAqB,IAEhB,IAAI,IAASL,GAKJ,KAAW,YAAiB,W,qDCflD,MAwGA,EAxGiB,KACf,MAAM,WAAEM,IAAeC,EAAAA,EAAAA,MACjBC,GAAWC,EAAAA,EAAAA,OACVC,EAAaC,IAAkBC,EAAAA,EAAAA,UAAS,IAczCC,EAAiB,KACrBC,IAAAA,IACQ,0DAAqER,KAC1ES,MAAMC,IACLL,EAAeK,EAAIC,KAAnB,IAEDC,OAAOC,IACNC,MAAMD,EAAME,SAASJ,KAArB,GANJ,EAiCF,OAJAK,EAAAA,EAAAA,YAAU,KACRT,GAAgB,GACf,CAACP,IAGF,uBAAKiB,UAAU,YACb,uBAAKA,UAAU,mBACb,uBAAKA,UAAU,wBACb,2BAAMC,EAAAA,EAAYlB,EAAamB,SAASnB,EAAY,IAAM,MAG7DI,EAAYgB,OACThB,EAAYiB,KAAKC,GACf,uBAAKC,IAAKD,EAAO,QAAaL,UAAU,oBACtC,uBACEA,UAAU,yCACVO,QAAS,KAAMC,OA1DLC,EA0DoBJ,EAAO,aAzDjDpB,EAAU,YAAWwB,KADCA,KAwDZ,GAIE,uBAAKT,UAAU,mCACb,uBAAKA,UAAU,iBACb,2BAAMK,EAAO,SACb,uBAAKL,UAAU,6BACb,qCAEF,uBAAKA,UAAU,6BACb,0CAGH3B,EAAAA,EAAAA,OAAagC,EAAO,UAAgBhC,EAAAA,EAAAA,MAAD,OAClC,uBACE2B,UAAU,gBACVO,QAAUG,IAlDPC,MAmDDD,EAAEE,kBAnDDD,EAoDaN,EAAO,SAnDrChC,EAAAA,EAAAA,MACEwC,OAAOC,QAAQ,kBACjBvB,IAAAA,KACS,gDAA4D,CACjEoB,UACAI,QAAS1C,EAAAA,EAAAA,MAAD,SAETmB,MAAK,KACJK,MAAM,WACNP,GAAgB,IAEjBK,OAAOC,IACNC,MAAMD,EAAME,SAASJ,KAArB,IAGDG,MAAM,YAoCO,GAJJ,MASE,MAEN,uBAAKG,UAAU,kCAAkCK,EAAO,WAI9D,KACJ,uBAAKL,UAAU,uBACb,uBACEA,UAAU,kDACVO,QAtFsB,MACxBlC,EAAAA,EAAAA,MACFY,EAAS,mBAETY,MAAM,aACP,GA+EG,WA1CN,C,mEC3DEmB,E,MAA0B,GAA4B,KAE1DA,EAAwBC,KAAK,CAACC,EAAOT,GAAI,qnBAAsnB,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,yCAAyC,MAAQ,GAAG,SAAW,+QAA+Q,eAAiB,CAAC,snBAAsnB,WAAa,MAE7pD,S","sources":["webpack://lee/./cert/AuthStorage.ts","webpack://lee/./css/Category/Category.css?22a6","webpack://lee/./pages/Category/index.tsx","webpack://lee/./css/Category/Category.css"],"sourcesContent":["import { AuthStorageType, LoginType } from \"@globalObj/types\";\n\nconst AUTH = 'auth';\nconst expireDays = 3;\n\nexport function clearAuth() {\n    localStorage.clear();\n}\n\nexport function saveAuth(token: LoginType) {\n    localStorage.setItem(AUTH, JSON.stringify({...token, expire:  Date.now() + expireDays * 24 * 60 * 60 * 1000}));\n}\n\nexport function getAuth(): AuthStorageType | null {\n    if (!localStorage.getItem(AUTH))\n        return null;\n    const authObj = JSON.parse(localStorage.getItem(AUTH) as string);\n    if (Date.now() > authObj['expire']) {\n        clearAuth();\n        return null;\n    }\n    return authObj;\n}\n\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!./Category.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!./Category.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import React from 'react';\nimport '@css/Category/Category.css';\nimport CategoryArr from '@globalObj/categoryArr';\nimport { useEffect } from 'react';\nimport axios from 'axios';\nimport { useState } from 'react';\nimport { useNavigate } from 'react-router';\nimport { useParams } from 'react-router';\nimport { getAuth } from '@cert/AuthStorage';\nimport { AuthStorageType } from '@globalObj/types';\n\nconst Category = () => {\n  const { categoryId } = useParams();\n  const navigate = useNavigate();\n  const [articleList, setArticleList] = useState([]);\n\n  const onClickArticle = (id: number) => {\n    navigate(`/article/${id}`);\n  };\n\n  const onclickCreaeteArticle = () => {\n    if (getAuth()) {\n      navigate('/create/article');\n    } else {\n      alert('로그인을 해주세요!');\n    }\n  };\n\n  const getArticleList = () => {\n    axios\n      .get(`http://${process.env.IP_ADDRESS}/board/get_articles.php?categoryId=${categoryId}`)\n      .then((res) => {\n        setArticleList(res.data);\n      })\n      .catch((error) => {\n        alert(error.response.data);\n      });\n  };\n\n  const deleteArticle = (boardId: number) => {\n    if (getAuth()) {\n      if (window.confirm('정말로 삭제하시겠습니까?')) {\n        axios\n          .post(`http://${process.env.IP_ADDRESS}/board/delete_article.php`, {\n            boardId,\n            userId: (getAuth() as AuthStorageType)['userId'],\n          })\n          .then(() => {\n            alert('글 삭제 성공');\n            getArticleList();\n          })\n          .catch((error) => {\n            alert(error.response.data);\n          });\n      }\n    } else alert('로그인을 해주세요');\n  };\n\n  useEffect(() => {\n    getArticleList();\n  }, [categoryId]);\n\n  return (\n    <div className=\"category\">\n      <div className=\"category-header\">\n        <div className=\"flex_vertical_middle\">\n          <div>{CategoryArr[categoryId ? parseInt(categoryId, 10) : 0]}</div>\n        </div>\n      </div>\n      {articleList.length\n        ? articleList.map((article) => (\n            <div key={article['boardId']} className=\"category-section\">\n              <div\n                className=\"category-section-content hover_pointer\"\n                onClick={() => onClickArticle(article['boardId'])}\n              >\n                <div className=\"category-section-content-header\">\n                  <div className=\"grid_10px_gap\">\n                    <div>{article['loginId']}</div>\n                    <div className=\"font-11 flex_vertical_end\">\n                      <span>14일전</span>\n                    </div>\n                    <div className=\"font-11 flex_vertical_end\">\n                      <span>10개의 댓글</span>\n                    </div>\n                  </div>\n                  {getAuth() && article['userId'] === (getAuth() as AuthStorageType)['userId'] ? (\n                    <div\n                      className=\"delete_button\"\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        deleteArticle(article['boardId']);\n                      }}\n                    >\n                      삭제\n                    </div>\n                  ) : null}\n                </div>\n                <div className=\"category-section-content-title\">{article['title']}</div>\n              </div>\n            </div>\n          ))\n        : null}\n      <div className=\"flex_horizontal_end\">\n        <div\n          className=\"category-create_btn flex_vertical_middle button\"\n          onClick={onclickCreaeteArticle}\n        >\n          게시글 생성\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Category;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".category {\\n    display: grid;\\n    row-gap: 30px;\\n}\\n\\n.category-header {\\n    display: flex;\\n    justify-content: center;\\n    height: 55px;\\n\\n    border: none;\\n    color: #505050;\\n    background-color: rgb(228,232,233);\\n    padding: 5px;\\n    border-radius: 10px;\\n}\\n\\n.category-section {\\n    display: grid;\\n}\\n\\n.category-section-content {\\n    display: grid;\\n    padding: 10px 0 10px 0;\\n    border-bottom: 1px solid rgb(207, 209, 209);\\n}\\n\\n.category-section-content-header {\\n    display: flex;\\n    justify-content: space-between;\\n    margin-bottom: 15px;\\n}\\n\\n.category-create_btn {\\n    width: 90px;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./css/Category/Category.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,aAAa;IACb,aAAa;AACjB;;AAEA;IACI,aAAa;IACb,uBAAuB;IACvB,YAAY;;IAEZ,YAAY;IACZ,cAAc;IACd,kCAAkC;IAClC,YAAY;IACZ,mBAAmB;AACvB;;AAEA;IACI,aAAa;AACjB;;AAEA;IACI,aAAa;IACb,sBAAsB;IACtB,2CAA2C;AAC/C;;AAEA;IACI,aAAa;IACb,8BAA8B;IAC9B,mBAAmB;AACvB;;AAEA;IACI,WAAW;AACf\",\"sourcesContent\":[\".category {\\n    display: grid;\\n    row-gap: 30px;\\n}\\n\\n.category-header {\\n    display: flex;\\n    justify-content: center;\\n    height: 55px;\\n\\n    border: none;\\n    color: #505050;\\n    background-color: rgb(228,232,233);\\n    padding: 5px;\\n    border-radius: 10px;\\n}\\n\\n.category-section {\\n    display: grid;\\n}\\n\\n.category-section-content {\\n    display: grid;\\n    padding: 10px 0 10px 0;\\n    border-bottom: 1px solid rgb(207, 209, 209);\\n}\\n\\n.category-section-content-header {\\n    display: flex;\\n    justify-content: space-between;\\n    margin-bottom: 15px;\\n}\\n\\n.category-create_btn {\\n    width: 90px;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["AUTH","clearAuth","localStorage","clear","saveAuth","token","setItem","JSON","stringify","expire","Date","now","expireDays","getAuth","getItem","authObj","parse","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","categoryId","useParams","navigate","useNavigate","articleList","setArticleList","useState","getArticleList","axios","then","res","data","catch","error","alert","response","useEffect","className","CategoryArr","parseInt","length","map","article","key","onClick","onClickArticle","id","e","boardId","stopPropagation","window","confirm","userId","___CSS_LOADER_EXPORT___","push","module"],"sourceRoot":""}